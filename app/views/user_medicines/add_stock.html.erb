<div class="container mx-auto px-4 mb-16">
  <div class="medicines-section max-w-4xl mx-auto mb-8">
    <div class="w-full">

    <!-- 薬一覧へのボタン-->
     <div class="flex mt-2 mb-2">
        <%= link_to user_medicine_path(@user_medicine), class: "text-gray-800 hover:text-red-500 inline-flex items-center gap-2 transition-colors duration-200" do %>
          <i class="fa-solid fa-arrow-left fa-sm"></i>
          <span>戻る</span>
        <% end %>
      </div>

      <!-- タイトルと説明文 -->
      <div class="text-center">
        <h1 class="text-3xl text-center mb-2 mt-2" style="font-family: 'M PLUS Rounded 1c', sans-serif; font-weight: 500;">
          <i class="fa-solid fa-pills" style="color: rgba(255, 136, 59, 1.00);"></i><%= @user_medicine.medicine.name %>の在庫追加
        </h1>
        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-2xl mx-auto mb-2">
          <p class="text-blue-800 text-sm mb-2">
            <i class="fa-solid fa-circle-info mr-2"></i>
            <strong>処方された薬の数量を入力しましょう</strong>
          </p>
          <p class="text-blue-700 text-sm">
            今回処方された数量を入力すると、現在の在庫に自動で追加されます
          </p>
        </div>
      </div>

     <!-- 在庫追加フォーム -->
      <div class="bg-white rounded-lg shadow p-6 mb-8">
        <%= form_with(model: @stock_form,
                      url: update_stock_user_medicine_path(@user_medicine),
                      method: :patch) do |f| %>
          <%= render "shared/error_messages", object: f.object %>

          <div class="mb-4">
            <label class="block text-sm font-bold mb-2">1回の服薬量</label>
            <div class="bg-gray-100 border border-gray-300 rounded px-3 py-2 text-gray-700">
              <%= @user_medicine.dosage_per_time %> 錠
            </div>
          </div>

          <div class="mb-4">
            <label class="block text-sm font-bold mb-2">1日の服薬回数</label>
            <div class="bg-gray-100 border border-gray-300 rounded px-3 py-2 text-gray-700">
              <%= @user_medicine.times_per_day %> 回
            </div>
          </div>

          <div class="mb-4">
            <label class="block text-sm font-bold mb-2">現在の在庫</label>
            <div class="bg-gray-100 border border-gray-300 rounded px-3 py-2 text-gray-700 ">
              <%= @user_medicine.current_stock %> 錠
            </div>
          </div>

          <div class="mb-4">
            <%= f.label :prescribed_amount, "処方量", class: "block text-sm font-bold mb-2" %>
            <div class="flex items-center gap-2">
              <%= f.text_field :prescribed_amount,
                               placeholder: "追加する数量を入力",
                               type: "number",
                               class: "border border-gray-300 rounded px-3 py-2" %>
              <span class="text-gray-700 whitespace-nowrap">錠</span>
            </div>
          </div>

          <div class="mb-4">
            <%= f.label :date_of_prescription, "処方日", class: "block text-sm font-bold mb-2" %>
            <%= f.date_field :date_of_prescription,
                             class: "border border-gray-300 rounded px-3 py-2" %>
          </div>

          <!-- 保存ボタン -->
          <div class="flex justify-center">
            <%= f.submit "保存する", class: "btn btn-primary px-8" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>