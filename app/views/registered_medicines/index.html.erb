<div class="container mx-auto px-4 py-8">
  <h1 class="font-bold text-4xl flex justify-center">登録薬一覧</h1>
</div>

  <% if @user_medicines.any? %>
    <div class="space-y-4 mb-8">
      <% @user_medicines.each do |medicine| %>
        <div class="border rounded-lg p-4 bg-white shadow-sm">
          <div class="flex justify-between items-start">
            <div class="flex-1">
              <h3 class="font-bold text-lg text-gray-900"><%= medicine.medicine_name %></h3>
              <div class="mt-2 space-y-1">
                <p class="text-sm text-gray-600">
                  <span class="font-medium">一回の服薬量:</span> <%= medicine.dosage_per_time %>錠
                </p>
                <p class="text-sm text-gray-600">
                  <span class="font-medium">現在の在庫:</span> <%= medicine.current_stock %>錠
                </p>
                <p class="text-sm text-gray-600">
                  <span class="font-medium">服薬開始日:</span> <%= medicine.date_of_prescription&.strftime('%Y年%m月%d日') %>
                </p>
              </div>
            </div>
            
            <div class="flex gap-2 ml-4">
              <%= link_to "編集", edit_registered_medicine_path(medicine), class: "btn btn-sm btn-success" %>
              <%= link_to "削除", registered_medicine_path(medicine), 
                  data: { 
                    turbo_method: :delete, 
                    turbo_confirm: "「#{medicine.medicine_name}」を削除してもよろしいですか？\n在庫データも削除されます。" 
                  }, 
                  class: "btn btn-sm btn-danger" %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="text-center py-12">
      <p class="text-gray-500 mb-4">登録されている薬がありません</p>
      <%= link_to "最初の薬を登録する", new_registered_medicine_path, class: "btn btn-primary" %>
    </div>
  <% end %>
  <div class="actions text-center">
    <%= link_to "新しい薬を登録", new_registered_medicine_path, class: "btn btn-primary" %>
  </div>
</div>