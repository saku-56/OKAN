
<div class="container mx-auto px-4">
  <div class="medicines-section max-w-4xl mx-auto mb-8">
    <div class="w-full">
      <div class="bg-white rounded-lg shadow p-6 mb-6">
        <h1 class="text-2xl md:text-3xl font-bold mb-4"><%= @hospital.name %></h1>

        <%= render "hospitals/schedule_table", hospital: @hospital %>

        <div class="bg-white rounded-lg shadow-sm p-3 mt-4 mb-4">
          <h2 class="text-sm font-bold text-gray-800 mb-2">メモ</h2>
          <p class="text-xs text-gray-500">
            <%= @hospital.description %>
          </p>
        </div>

        <div class="flex gap-4 mt-10">
          <%= link_to "編集", edit_hospital_path(@hospital), class: "btn btn-acsent flex-1" %>
          <%= link_to "削除", hospital_path(@hospital), data: { turbo_method: :delete, turbo_confirm: "本当に削除しますか?" }, class: "btn btn-error flex-1" %>
          <%= link_to "戻る", hospitals_path, class: "btn btn-neutral flex-1" %>
        </div>
      </div>

      <div class="bg-white rounded-lg shadow p-6 mb-16">
        <div class="bg-white rounded-lg shadow-sm p-3 mt-4 mb-4">
          <h2 class="text-sm font-bold text-gray-800 mb-2">次回通院予定日</h2>
          <% next_visit = @hospital.consultation_schedules.upcoming.first %>
          <%= form_with model: next_visit || @hospital.consultation_schedules.build,
              url: hospital_consultation_schedules_path(@hospital),
              method: :post do |f| %>

          <%= render 'shared/error_messages', object: f.object %>

         <div class="flex gap-4">
            <%= f.date_field :visit_date,
            min: Date.current,
            class: "w-full border border-gray-300 rounded px-3 py-2" %>
            <%= f.submit "登録", class: "btn btn-primary w-12" %>
        <% end %>
        </div>
    </div>
  </div>
</div>